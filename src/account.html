<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../dist/main.css">
    <!--fontawsome-->
    <script src="https://kit.fontawesome.com/7909d40077.js" crossorigin="anonymous"></script>
    <!--connection flickity-->
    <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
    <script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>    
    <!--connection google font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!--font overpass-->
    <link href="https://fonts.googleapis.com/css2?family=Overpass:wght@100;300;400;700&display=swap" rel="stylesheet">
    <!--font fira sans-->
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@700;900&display=swap" rel="stylesheet">
    <!--JQuery-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <title>Modifiez le profil | DéliSanSucre</title>
</head>
<body>
    <header id="navigation" class="hidden">
        <a href="../index.html"><img src="image/image.png" alt="logo délisansucre"></a>
        <nav>
            <ul>
                <li>
                    <a href="recepes.html">Recettes</a>
                    <ul>
                        <div>
                            <p>Des recettes adaptées pour tous les goûts</p>
                            <a href="recepes.html">Voir toutes les recettes</a>
                            <a href="add_recepe.html">Proposer une recette</a>
                        </div>
                        <div>
                            <a href="categories.html">Catégories</a>
                            <a href="category.html">Sans sucre</a>
                            <a href="category.html">Sans lactose</a>
                            <a href="category.html">Sans gluten</a>
                            <a href="category.html">Sans sel</a>
                            <a href="category.html">Végétarien</a>
                            <a href="category.html">Vegan</a>
                        </div>
                        <div>
                            <a href="categories.html">Repas</a>
                            <a href="category.html">Petit-déjeuner</a>
                            <a href="category.html">Déjeuner</a>
                            <a href="category.html">Collation</a>
                            <a href="category.html">Apéro</a>
                            <a href="category.html">Diner</a>
                        </div>
                        <div>
                            <a href="categories.html">Plats</a>
                            <a href="category.html">Petit-déjeuner</a>
                            <a href="category.html">Apéro</a>
                            <a href="category.html">Entrée</a>
                            <a href="category.html">Plat</a>
                            <a href="category.html">Dessert</a>
                        </div>
                    </ul>
                </li>
                <li>
                    <a href="menu.html">Menu de la semaine</a>
                </li>
                <li>
                    <a href="articles.html">Articles</a>
                </li>
                <li>
                    <a href="account.html">Profil</a>
                </li>
            </ul>
        </nav>
    </header>
    <main class="w-10/12 mx-auto desktop:w-8/12">
        <section id="infos">
            <h1>Mon compte</h1>
            <div class="tablet:flex justify-between">
                <div class="tablet:w-6/12">
                    <h2 class="mb-0">Informations</h2>
                    <div class="border-dark border-b-2 w-32 mb-4"></div>
                    <div class="flex flex-row justify-center items-center">
                        <img src="image/image.png" alt="" class="rounded-full w-32 h-32 mr-4">
                        <div>
                            <p class="my-2">Nom</p>
                            <p class="my-2">Prénom</p>
                            <p class="my-2">email@email.com</p>    
                        </div>    
                    </div>
                </div>
                <div class="tablet:w-6/12">
                    <h2 class="mb-0">Mon régime alimentaire</h2>
                    <div class="border-dark border-b-2 w-32 mb-4"></div>
                    <div class="tablet:w-9/12 mx-auto">
                        <div class="grid grid-cols-1 tablet:grid-cols-3 gap-4">
                            <p class="font-overpass text-black w-full bg-primary border-light border-4 text-center px-4 py-4 rounded-lg">Sans lactose</p>
                            <p class="font-overpass text-black w-full bg-primary border-light border-4 text-center px-4 py-4 rounded-lg">Sans gluten</p>
                            <p class="font-overpass text-black w-full bg-primary border-light border-4 text-center px-4 py-4 rounded-lg">Végétarien</p>    
                        </div> 
                    </div>
                </div>
            </div>
            <p class="btn-secondary mx-auto my-8">Éditer mon profil</p>   
            <div>
                <h2 class="mb-0">Mes recettes créées</h2>
                <div class="border-dark border-b-2 w-32 mb-4"></div>
                <div class="tablet:w-9/12 mx-auto">
                <p class="btn-primary mx-auto"><a href="add_recepe.html">Proposez votre recette !</a></p>
                </div>
                <div class="myrecepes-carousel">
                    <div class="carousel-cell px-1 h-96 w-9/12 mobil:w-60 mobil:px-2">
                        <a href="recepe.html">
                            <img src="image/image.png" alt="" class="h-full w-full">
                            <h3 class="bg-white text-dark font-fira font-black w-4/5 h-20 absolute bottom-6 flex items-center justify-center mobil:w-50">Titre de la recette</h3>    
                        </a>
                    </div>
                    <div class="carousel-cell px-1 h-96 w-9/12 mobil:w-60 mobil:px-2">
                        <a href="recepe.html">
                            <img src="image/image.png" alt="" class="h-full w-full">
                            <h3 class="bg-white text-dark font-fira font-black w-4/5 h-20 absolute bottom-6 flex items-center justify-center mobil:w-50">Titre de la recette</h3>    
                        </a>
                    </div>
                    <div class="carousel-cell px-1 h-96 w-9/12 mobil:w-60 mobil:px-2">
                        <a href="recepe.html">
                            <img src="image/image.png" alt="" class="h-full w-full">
                            <h3 class="bg-white text-dark font-fira font-black w-4/5 h-20 absolute bottom-6 flex items-center justify-center mobil:w-50">Titre de la recette</h3>    
                        </a>
                    </div>
                    <div class="carousel-cell px-1 h-96 w-9/12 mobil:w-60 mobil:px-2">
                        <a href="recepe.html">
                            <img src="image/image.png" alt="" class="h-full w-full">
                            <h3 class="bg-white text-dark font-fira font-black w-4/5 h-20 absolute bottom-6 flex items-center justify-center mobil:w-50">Titre de la recette</h3>    
                        </a>
                    </div>
                </div>
    
            </div>    
        </section>
        <section id="modify">
            <h1>Éditer le profil</h1>
            <div class="tablet:flex justify-between">
                <div class="w-6/12">
                    <h2 class="mb-0">Informations</h2>
                    <div class="border-dark border-b-2 w-32 mb-4"></div>
                    <div class="flex flex-col tablet:flex-row tablet:items-center tablet:justify-center">
                        <div class="mr-4 self-center tablet:w-60">
                            <img id="preview_img" src="image/image.png" alt="your image" class="max-w-full rounded-full w-32 h-32"/>
                            <input type="file" onchange="readURL(this);" class="w-32">    
                        </div>
                        <div class="flex flex-col">
                            <span>
                                <label for="" class="font-overpass text-black font-regular my-2">Nom :</label>
                                <input type="text" placeholder="Votre nom" class="my-2">    
                            </span>
                            <span>
                                <label for="" class="font-overpass text-black font-regular my-2">Prénom :</label>
                                <input type="text" placeholder="Votre prénom" class="my-2">    
                            </span>
                            <span>
                                <label for="" class="font-overpass text-black font-regular my-2">Email :</label>
                                <input type="text" placeholder="Votre e-mail" class="my-2">    
                            </span>
                            <span>
                                <label for="" class="font-overpass text-black font-regular my-2">Mot de passe :</label>
                                <input type="text" placeholder="Votre mot de passe" class="my-2">    
                            </span>
                        </div>    
                    </div>
                </div>
                <div class="w-6/12">
                    <h2 class="mb-0">Mon régime alimentaire</h2>
                    <div class="border-dark border-b-2 w-32 mb-4"></div>
                    <div class="tablet:w-9/12 mx-auto">
                        <select multiple name="" id="" data-placeholder="Sélectionner un régime">
                            <option>Sans sucre</option>
                            <option>Sans gluten</option>
                            <option>Sans lactose</option>
                            <option>Sans sel</option>
                            <option>Végétarien</option>
                            <option>Vegan</option>
                        </select>
                    </div>
                </div>    
            </div> 
            <p class="btn-primary mx-auto">Valider</p>
            <p class="btn-secondary mx-auto">Annuler</p>   
        </section>
    </main>
</body>
</html>

<script>
    //slider recettes 
        var flkty = new Flickity( '.myrecepes-carousel', {
            wrapAround: true,
            draggable: true,
            freeScroll: false,
            autoPlay: false,
            pageDots: false,
            contain: true,
            cellAlign: 'center',
        });

    //style select multiple
    $(document).ready(function() {

    var select = $('select[multiple]');
    var options = select.find('option');

    var div = $('<div />').addClass('selectMultiple');
    var active = $('<div />');
    var list = $('<ul />');
    var placeholder = select.data('placeholder');

    var span = $('<span />').text(placeholder).appendTo(active);

    options.each(function() {
        var text = $(this).text();
        if($(this).is(':selected')) {
            active.append($('<a />').html('<em>' + text + '</em><i></i>'));
            span.addClass('hide');
        } else {
            list.append($('<li />').html(text));
        }
    });

    active.append($('<div />').addClass('arrow'));
    div.append(active).append(list);

    select.wrap(div);

    $(document).on('click', '.selectMultiple ul li', function(e) {
        var select = $(this).parent().parent();
        var li = $(this);
        if(!select.hasClass('clicked')) {
            select.addClass('clicked');
            li.prev().addClass('beforeRemove');
            li.next().addClass('afterRemove');
            li.addClass('remove');
            var a = $('<a />').addClass('notShown').html('<em>' + li.text() + '</em><i></i>').hide().appendTo(select.children('div'));
            a.slideDown(400, function() {
                setTimeout(function() {
                    a.addClass('shown');
                    select.children('div').children('span').addClass('hide');
                    select.find('option:contains(' + li.text() + ')').prop('selected', true);
                }, 500);
            });
            setTimeout(function() {
                if(li.prev().is(':last-child')) {
                    li.prev().removeClass('beforeRemove');
                }
                if(li.next().is(':first-child')) {
                    li.next().removeClass('afterRemove');
                }
                setTimeout(function() {
                    li.prev().removeClass('beforeRemove');
                    li.next().removeClass('afterRemove');
                }, 200);

                li.slideUp(400, function() {
                    li.remove();
                    select.removeClass('clicked');
                });
            }, 600);
        }
    });

    $(document).on('click', '.selectMultiple > div a', function(e) {
        var select = $(this).parent().parent();
        var self = $(this);
        self.removeClass().addClass('remove');
        select.addClass('open');
        setTimeout(function() {
            self.addClass('disappear');
            setTimeout(function() {
                self.animate({
                    width: 0,
                    height: 0,
                    padding: 0,
                    margin: 0
                }, 300, function() {
                    var li = $('<li />').text(self.children('em').text()).addClass('notShown').appendTo(select.find('ul'));
                    li.slideDown(400, function() {
                        li.addClass('show');
                        setTimeout(function() {
                            select.find('option:contains(' + self.children('em').text() + ')').prop('selected', false);
                            if(!select.find('option:selected').length) {
                                select.children('div').children('span').removeClass('hide');
                            }
                            li.removeClass();
                        }, 400);
                    });
                    self.remove();
                })
            }, 300);
        }, 400);
    });

    $(document).on('click', '.selectMultiple > div .arrow, .selectMultiple > div span', function(e) {
        $(this).parent().parent().toggleClass('open');
    });

    });

</script>
